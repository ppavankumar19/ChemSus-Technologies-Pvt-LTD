# ── Supabase (required) ──────────────────────────────────────────────────────
# Get these from: https://supabase.com → Project Settings → API
SUPABASE_URL=https://your-project-ref.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key

# Service Role Key — required ONLY for the admin "Users" view (lists Supabase Auth accounts)
# Get from: Supabase Dashboard → Settings → API → Service Role Key (keep this secret!)
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# The Supabase account email that gets admin dashboard access
ADMIN_EMAIL=admin@yourdomain.com

# ── PostgreSQL — Mode 1: Individual params (RECOMMENDED for Supabase) ────────
# Avoids URL-encoding issues when your password contains special characters.
# Get these from: Supabase Dashboard → Settings → Database → Connection parameters
#
# For Supabase connection pooler (port 6543 = Transaction mode):
DB_HOST=aws-0-ap-south-1.pooler.supabase.com
DB_PORT=6543
DB_USER=postgres.yourprojectref
DB_PASSWORD=YourSupabasePasswordHere
DB_NAME=postgres

# ── PostgreSQL — Mode 2: Single URL (for Render/Railway auto-provisioned DBs) ─
# Only use this if your host/platform sets DATABASE_URL automatically.
# If using Supabase manually, prefer Mode 1 above to avoid password encoding issues.
# DATABASE_URL=postgresql://user:password@host:5432/chemsus

# Set DATABASE_SSL=false only for a local PostgreSQL without SSL configured
# DATABASE_SSL=false

# ── Server ───────────────────────────────────────────────────────────────────
PORT=5000
NODE_ENV=development   # Set to "production" on your host

# ── OTP Email (optional — OTP prints to console if not set) ─────────────────
# Works with Gmail, Outlook, SendGrid, Brevo, etc.
OTP_SMTP_HOST=smtp.gmail.com
OTP_SMTP_PORT=587
OTP_SMTP_SECURE=false
OTP_SMTP_USER=your-email@gmail.com
OTP_SMTP_PASS=your-app-password
OTP_EMAIL_FROM=ChemSus <no-reply@yourdomain.com>

# Hashing secret for OTP — change this to a random string in production
OTP_HASH_SECRET=change_this_to_a_random_secret

# OTP behaviour (optional — these are the defaults)
OTP_TTL_MIN=10
OTP_RESEND_SEC=60
OTP_MAX_ATTEMPTS=5
OTP_TOKEN_TTL_MIN=30
